tags:
  - Users
summary: Get user by ID
operationId: getUserById
description: Retrieve a specific user's public profile and paginated list of their articles by user ID. This is a public endpoint.
security: []

parameters:
  - name: userId
    in: path
    required: true
    description: The unique ID of the user (MongoDB ObjectId)
    schema:
      type: string
      pattern: '^[a-f0-9]{24}$'
      example: 6881563901add19ee16fd017

  - in: query
    name: page
    schema:
      type: integer
      minimum: 1
      default: 1
      example: 1
    description: Page number for articles pagination

  - in: query
    name: perPage
    schema:
      type: integer
      minimum: 1
      maximum: 100
      default: 4
      example: 4
    description: Number of articles per page (max 100)

responses:
  '200':
    description: Successfully retrieved user and their articles
    content:
      application/json:
        schema:
          type: object
          required: [status, message, data]
          properties:
            status:
              type: integer
              example: 200
            message:
              type: string
              example: Successfully found user by id!
            data:
              type: object
              required: [user, articles]
              properties:
                user:
                  $ref: '../../../components/schemas/userPublic.yaml'
                articles:
                  type: object
                  description: Paginated list of articles published by the user
                  required: [items, pagination]
                  properties:
                    items:
                      type: array
                      items:
                        $ref: '../../../components/schemas/articleCard.yaml'
                    pagination:
                      type: object
                      required:
                        - currentPage
                        - perPage
                        - totalItems
                        - totalPages
                        - hasNextPage
                        - hasPrevPage
                      properties:
                        currentPage:
                          type: integer
                          example: 1
                        perPage:
                          type: integer
                          example: 4
                        totalItems:
                          type: integer
                          example: 20
                        totalPages:
                          type: integer
                          example: 5
                        hasNextPage:
                          type: boolean
                          example: true
                        hasPrevPage:
                          type: boolean
                          example: false
        examples:
          success:
            value:
              status: 200
              message: Successfully found user by id!
              data:
                user:
                  _id: 6881563901add19ee16fd017
                  name: 'Матвій Савченко'
                  avatarUrl: 'https://ftp.goit.study/img/harmoniq/users/6881563901add19ee16fd017.webp'
                  articlesAmount: 20
                  description: 'Мене звати Матвій. Почав ділитися враженнями...'
                  createdAt: '2025-01-01T12:00:00.000Z'
                  updatedAt: '2025-01-05T08:30:00.000Z'
                articles:
                  items:
                    - _id: '68498236a100312bea079003'
                      imageUrl: 'https://ftp.goit.study/img/travel-blog/68498236a100312bea079003.webp'
                      title: 'Нова Зеландія: кемпінг серед гір і озер'
                      publishedDate: '2025-06-28T00:00:00.000Z'
                      favoritesCount: 26
                      authorId: '6881563901add19ee16fd017'
                    - _id: '68498236a100312bea079031'
                      imageUrl: 'https://ftp.goit.study/img/travel-blog/68498236a100312bea079031.webp'
                      title: 'Непал: шлях до базового табору Евересту'
                      publishedDate: '2025-02-27T00:00:00.000Z'
                      favoritesCount: 23
                      authorId: '6881563901add19ee16fd017'
                  pagination:
                    currentPage: 1
                    perPage: 4
                    totalItems: 20
                    totalPages: 5
                    hasNextPage: true
                    hasPrevPage: false

  '400':
    description: Invalid user ID or pagination parameters
    content:
      application/json:
        schema:
          type: object
          required: [status, message, data]
          properties:
            status:
              type: integer
              example: 400
            message:
              type: string
              example: BadRequestError
            data:
              type: object
              example:
                name: BadRequestError
                message: Invalid userId or query parameters
                details:
                  - userId must match pattern ^[a-f0-9]{24}$
                  - page must be >= 1
                  - perPage must be between 1 and 100

  '404':
    $ref: '../../../components/responses/404.yaml'

  '500':
    $ref: '../../../components/responses/500.yaml'
