tags:
  - Users
summary: Save a story for the current user
operationId: saveStoryForMe
description: Add a story to the authenticated user's saved list (idempotent operation)
security:
  - bearerAuth: []

parameters:
  - name: storyId
    in: path
    required: true
    schema:
      type: string
      pattern: '^[a-f0-9]{24}$'
      example: 68498236a100312bea079008
    description: Story ID to save (MongoDB ObjectId)

responses:
  '200':
    description: Story saved (or already in saved list - idempotent)
    content:
      application/json:
        schema:
          type: object
          required: [status, message, data]
          properties:
            status:
              type: integer
              example: 200
            message:
              type: string
              example: Story saved
            data:
              type: object
              required: [savedStories]
              properties:
                savedStories:
                  type: array
                  description: Updated list of saved story IDs
                  items:
                    type: string
                    pattern: '^[a-f0-9]{24}$'
        examples:
          success:
            value:
              status: 200
              message: Story saved
              data:
                savedStories:
                  - 68498236a100312bea079008
                  - 68498236a100312bea079011
                  - 6912703e9afd9812a62a9d4c

  '400':
    description: Invalid story ID parameter
    content:
      application/json:
        schema:
          type: object
          required: [status, message, data]
          properties:
            status:
              type: integer
              example: 400
            message:
              type: string
              example: BadRequestError
            data:
              type: object
              example:
                name: BadRequestError
                message: Invalid storyId path parameter
                details:
                  - storyId must match pattern ^[a-f0-9]{24}$

  '401':
    $ref: '../../../../../components/responses/401.yaml'
  '404':
    $ref: '../../../../../components/responses/404.yaml'
  '500':
    $ref: '../../../../../components/responses/500.yaml'
