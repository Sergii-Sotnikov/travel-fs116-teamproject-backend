{
  "openapi": "3.1.0",
  "info": {
    "version": "1.0.0",
    "title": "Travel Stories API",
    "license": {
      "name": "Apache 2.0",
      "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
    },
    "description": "REST API documentation for the travel platform"
  },
  "servers": [
    {
      "url": "http://localhost:3000"
    },
    {
      "url": "https://travel-fs116-teamproject-backend.onrender.com"
    }
  ],
  "tags": [
    {
      "name": "Auth",
      "description": "Authentication and authorization operations (login, logout, reset password)"
    },
    {
      "name": "Users",
      "description": "Operations related to traveller profiles and saved stories"
    },
    {
      "name": "Stories",
      "description": "Operations related to managing travel stories (CRUD, images, categories)"
    }
  ],
  "paths": {
    "/auth/register": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Register a new user",
        "operationId": "registerUser",
        "description": "Create a new user account",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/registerUser"
              }
            }
          }
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/201-register"
          },
          "409": {
            "$ref": "#/components/responses/409"
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Login user",
        "operationId": "loginUser",
        "description": "Authenticate a user and return access and refresh tokens",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/loginUser"
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/200-login"
          },
          "401": {
            "$ref": "#/components/responses/401-userNotFound"
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Logout user",
        "operationId": "logoutUser",
        "description": "Log out user and invalidate access token",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "204": {
            "$ref": "#/components/responses/204"
          }
        }
      }
    },
    "/auth/refresh": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Refresh access token",
        "operationId": "refreshUserSession",
        "description": "Refresh access token using a valid refresh token",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/refreshToken"
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/200-refresh"
          }
        }
      }
    },
    "/auth/reset-pwd": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Reset password",
        "operationId": "resetPassword",
        "description": "Reset the user's password using a token from email",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/resetPassword"
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/200-resetPwd"
          },
          "404": {
            "$ref": "#/components/responses/404-user"
          }
        }
      }
    },
    "/auth/send-reset-email": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Request password reset",
        "operationId": "requestResetEmail",
        "description": "Send password reset email to the user",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/requestResetEmail"
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/200-resetEmail"
          },
          "404": {
            "$ref": "#/components/responses/404-user"
          }
        }
      }
    },
    "/users": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get all users",
        "operationId": "getUsers",
        "description": "Retrieve a paginated list of users",
        "security": [],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "example": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "perPage",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 12,
              "example": 12
            },
            "description": "Number of users per page"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved users",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message",
                    "data"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "Successfully found users!"
                    },
                    "data": {
                      "type": "object",
                      "required": [
                        "users",
                        "page",
                        "perPage",
                        "totalItems",
                        "totalPages",
                        "hasPreviousPage",
                        "hasNextPage"
                      ],
                      "properties": {
                        "users": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/userPublic"
                          }
                        },
                        "page": {
                          "type": "integer",
                          "example": 1
                        },
                        "perPage": {
                          "type": "integer",
                          "example": 12
                        },
                        "totalItems": {
                          "type": "integer",
                          "example": 63
                        },
                        "totalPages": {
                          "type": "integer",
                          "example": 6
                        },
                        "hasPreviousPage": {
                          "type": "boolean",
                          "example": false
                        },
                        "hasNextPage": {
                          "type": "boolean",
                          "example": true
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "ok": {
                    "value": {
                      "status": 200,
                      "message": "Successfully found users!",
                      "data": {
                        "users": [
                          {
                            "_id": "6881563901add19ee16fcff5",
                            "name": "Дмитро Романенко",
                            "avatarUrl": "https://ftp.goit.study/img/harmoniq/users/6881563901add19ee16fcff5.webp",
                            "articlesAmount": 13,
                            "description": "Привіт! Я Дмитро..."
                          }
                        ],
                        "page": 1,
                        "perPage": 12,
                        "totalItems": 63,
                        "totalPages": 6,
                        "hasPreviousPage": false,
                        "hasNextPage": true
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 400
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid query params"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "details": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "invalid-page": {
                    "value": {
                      "status": 400,
                      "message": "Invalid query params",
                      "data": {
                        "details": [
                          "\"page\" must be >= 1"
                        ]
                      }
                    }
                  },
                  "invalid-perPage": {
                    "value": {
                      "status": 400,
                      "message": "Invalid query params",
                      "data": {
                        "details": [
                          "\"perPage\" must be between 1 and 100"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      }
    },
    "/users/{userId}": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get user by id",
        "operationId": "getUserById",
        "description": "Retrieve a specific user by ID (public endpoint)",
        "security": [],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "description": "The unique ID of the user",
            "schema": {
              "type": "string",
              "pattern": "^[a-f0-9]{24}$",
              "example": "69134925a9c11877caa26fd9"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved user by id",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message",
                    "data"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "Successfully found user by id!"
                    },
                    "data": {
                      "type": "object",
                      "required": [
                        "user",
                        "articles",
                        "savedArticles"
                      ],
                      "properties": {
                        "user": {
                          "$ref": "#/components/schemas/user"
                        },
                        "articles": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/articleCard"
                          }
                        },
                        "savedArticles": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/articleCard"
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "ok": {
                    "value": {
                      "status": 200,
                      "message": "Successfully found user by id!",
                      "data": {
                        "user": {
                          "_id": "69134925a9c11877caa26fd9",
                          "name": "Test8",
                          "avatarUrl": "https://res.cloudinary.com/dcyt4kr5s/image/upload/v1762684805/avatars/ycozq7nun3lbze83tjsk.png",
                          "articlesAmount": 1,
                          "createdAt": "2025-11-11T14:33:09.641Z"
                        },
                        "articles": [
                          {
                            "_id": "69134980a9c11877caa26fed",
                            "img": "https://res.cloudinary.com/demo/image/upload/v1699999999/samples/landscapes/nature-mountains.jpg",
                            "title": "Super",
                            "date": "2025-11-11T14:34:40.845Z",
                            "favoriteCount": 0,
                            "createdAt": "2025-11-11T14:34:40.845Z"
                          }
                        ],
                        "savedArticles": [
                          {
                            "_id": "68498236a100312bea079008",
                            "img": "https://res.cloudinary.com/demo/image/upload/v1699999999/samples/landscapes/nature-mountains.jpg",
                            "title": "Йорданія: шлях у Петру",
                            "date": "2025-01-10",
                            "favoriteCount": 6
                          }
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 400
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid \"userId\" path parameter"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "details": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "invalid-objectid": {
                    "value": {
                      "status": 400,
                      "message": "Invalid \"userId\" path parameter",
                      "data": {
                        "details": [
                          "\"userId\" must match /^[a-f0-9]{24}$/"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 404
                    },
                    "message": {
                      "type": "string",
                      "example": "User not found"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "details": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "not-found": {
                    "value": {
                      "status": 404,
                      "message": "User not found",
                      "data": {
                        "details": [
                          "User with given id doesn’t exist"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      }
    },
    "/users/me": {
      "patch": {
        "tags": [
          "Users"
        ],
        "summary": "Update current user's profile",
        "operationId": "patchMe",
        "description": "Update profile fields and optionally upload an avatar (multipart/form-data)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "maxLength": 100,
                    "example": "Test8"
                  },
                  "description": {
                    "type": "string",
                    "maxLength": 1000,
                    "example": "Hello Sergiy"
                  },
                  "avatar": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              },
              "encoding": {
                "avatar": {
                  "contentType": "image/jpeg, image/png, image/webp",
                  "style": "form",
                  "explode": true
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully patched my profile",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message",
                    "data"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "Successfully patched my profile!"
                    },
                    "data": {
                      "type": "object",
                      "required": [
                        "_id",
                        "name",
                        "avatarUrl",
                        "articlesAmount",
                        "createdAt"
                      ],
                      "properties": {
                        "_id": {
                          "type": "string",
                          "example": "69134925a9c11877caa26fd9"
                        },
                        "name": {
                          "type": "string",
                          "example": "Test8"
                        },
                        "avatarUrl": {
                          "type": "string",
                          "format": "uri",
                          "example": "https://res.cloudinary.com/dcyt4kr5s/image/upload/v1762684805/avatars/ycozq7nun3lbze83tjsk.png"
                        },
                        "articlesAmount": {
                          "type": "integer",
                          "example": 1
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-11-11T14:33:09.641Z"
                        },
                        "description": {
                          "type": "string",
                          "example": "Hello Sergiy"
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "ok": {
                    "value": {
                      "status": 200,
                      "message": "Successfully patched my profile!",
                      "data": {
                        "_id": "69134925a9c11877caa26fd9",
                        "name": "Test8",
                        "avatarUrl": "https://res.cloudinary.com/dcyt4kr5s/image/upload/v1762684805/avatars/ycozq7nun3lbze83tjsk.png",
                        "articlesAmount": 1,
                        "createdAt": "2025-11-11T14:33:09.641Z",
                        "description": "Hello Sergiy"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request (no fields provided or invalid file)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 400
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid payload"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "details": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "no-fields": {
                    "value": {
                      "status": 400,
                      "message": "Invalid payload",
                      "data": {
                        "details": [
                          "At least one field is required: name, description, or avatar"
                        ]
                      }
                    }
                  },
                  "invalid-type": {
                    "value": {
                      "status": 400,
                      "message": "Invalid avatar file type",
                      "data": {
                        "details": [
                          "Allowed types: image/jpeg, image/png, image/webp"
                        ]
                      }
                    }
                  },
                  "too-large": {
                    "value": {
                      "status": 400,
                      "message": "Avatar file is too large",
                      "data": {
                        "details": [
                          "Max size: 5MB"
                        ]
                      }
                    }
                  },
                  "missing-buffer": {
                    "value": {
                      "status": 400,
                      "message": "Invalid avatar file",
                      "data": {
                        "details": [
                          "File buffer is required"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (missing/invalid token or session)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 401
                    },
                    "message": {
                      "type": "string",
                      "example": "Session not found or invalid token"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "details": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "no-token": {
                    "value": {
                      "status": 401,
                      "message": "Unauthorized",
                      "data": {
                        "details": [
                          "Missing access token"
                        ]
                      }
                    }
                  },
                  "invalid-token": {
                    "value": {
                      "status": 401,
                      "message": "Session not found or invalid token",
                      "data": {
                        "details": [
                          "Invalid or expired token"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "413": {
            "description": "Payload Too Large (file exceeds server limits)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 413
                    },
                    "message": {
                      "type": "string",
                      "example": "Payload Too Large"
                    }
                  }
                },
                "examples": {
                  "too-large": {
                    "value": {
                      "status": 413,
                      "message": "Payload Too Large",
                      "data": null
                    }
                  }
                }
              }
            }
          },
          "415": {
            "description": "Unsupported Media Type (wrong Content-Type)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 415
                    },
                    "message": {
                      "type": "string",
                      "example": "Unsupported Media Type"
                    }
                  }
                },
                "examples": {
                  "bad-media": {
                    "value": {
                      "status": 415,
                      "message": "Unsupported Media Type",
                      "data": null
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message",
                    "data"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Something went wrong"
                    },
                    "data": {
                      "type": "object",
                      "example": {
                        "message": "Unexpected error"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/users/me/avatar": {
      "patch": {
        "tags": [
          "Users"
        ],
        "summary": "Update current user's avatar",
        "operationId": "patchMeAvatar",
        "description": "Upload a new avatar image for the authenticated user (multipart/form-data)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "avatar"
                ],
                "properties": {
                  "avatar": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              },
              "encoding": {
                "avatar": {
                  "contentType": "image/jpeg, image/png, image/webp",
                  "style": "form",
                  "explode": true
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Avatar updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message",
                    "data"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "Avatar updated successfully"
                    },
                    "data": {
                      "type": "object",
                      "required": [
                        "user"
                      ],
                      "properties": {
                        "user": {
                          "type": "object",
                          "required": [
                            "_id",
                            "name",
                            "avatarUrl",
                            "articlesAmount",
                            "createdAt",
                            "updatedAt"
                          ],
                          "properties": {
                            "_id": {
                              "type": "string",
                              "example": "6912543ed3b94d5c0eae6420"
                            },
                            "name": {
                              "type": "string",
                              "example": "Test7"
                            },
                            "avatarUrl": {
                              "type": "string",
                              "format": "uri",
                              "example": "https://res.cloudinary.com/demo/image/upload/v1699999999/samples/landscapes/nature-mountains.jpg"
                            },
                            "articlesAmount": {
                              "type": "integer",
                              "example": 8
                            },
                            "createdAt": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2025-11-10T21:08:14.553Z"
                            },
                            "updatedAt": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2025-11-11T09:12:31.001Z"
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "ok": {
                    "value": {
                      "status": 200,
                      "message": "Avatar updated successfully",
                      "data": {
                        "user": {
                          "_id": "6912543ed3b94d5c0eae6420",
                          "name": "Test7",
                          "avatarUrl": "https://res.cloudinary.com/demo/image/upload/v1699999999/samples/landscapes/nature-mountains.jpg",
                          "articlesAmount": 8,
                          "createdAt": "2025-11-10T21:08:14.553Z",
                          "updatedAt": "2025-11-11T09:12:31.001Z"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request (missing or invalid avatar file)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 400
                    },
                    "message": {
                      "type": "string",
                      "example": "Avatar file is required"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "details": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "missing-file": {
                    "value": {
                      "status": 400,
                      "message": "Avatar file is required",
                      "data": null
                    }
                  },
                  "invalid-type": {
                    "value": {
                      "status": 400,
                      "message": "Invalid avatar file type",
                      "data": {
                        "details": [
                          "Allowed types: image/jpeg, image/png, image/webp"
                        ]
                      }
                    }
                  },
                  "too-large": {
                    "value": {
                      "status": 400,
                      "message": "Avatar file is too large",
                      "data": {
                        "details": [
                          "Max size: 5MB"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (missing/invalid token or session)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 401
                    },
                    "message": {
                      "type": "string",
                      "example": "Session not found or invalid token"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "details": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "no-token": {
                    "value": {
                      "status": 401,
                      "message": "Unauthorized",
                      "data": {
                        "details": [
                          "Missing access token"
                        ]
                      }
                    }
                  },
                  "invalid-token": {
                    "value": {
                      "status": 401,
                      "message": "Session not found or invalid token",
                      "data": {
                        "details": [
                          "Invalid or expired token"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "413": {
            "description": "Payload Too Large (file exceeds server limits)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 413
                    },
                    "message": {
                      "type": "string",
                      "example": "Payload Too Large"
                    }
                  }
                },
                "examples": {
                  "too-large": {
                    "value": {
                      "status": 413,
                      "message": "Payload Too Large",
                      "data": null
                    }
                  }
                }
              }
            }
          },
          "415": {
            "description": "Unsupported Media Type (wrong Content-Type)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 415
                    },
                    "message": {
                      "type": "string",
                      "example": "Unsupported Media Type"
                    }
                  }
                },
                "examples": {
                  "bad-media": {
                    "value": {
                      "status": 415,
                      "message": "Unsupported Media Type",
                      "data": null
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message",
                    "data"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Something went wrong"
                    },
                    "data": {
                      "type": "object",
                      "example": {
                        "message": "Unexpected error"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/users/me/profile": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get current user's profile",
        "operationId": "getMeProfile",
        "description": "Retrieve the authenticated user's profile with their articles (private endpoint)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved current user profile",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message",
                    "data"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "Successfully found the user with id: 6912543ed3b94d5c0eae6420"
                    },
                    "data": {
                      "type": "object",
                      "required": [
                        "_id",
                        "name",
                        "avatarUrl",
                        "articlesAmount",
                        "createdAt",
                        "updatedAt",
                        "articles"
                      ],
                      "properties": {
                        "_id": {
                          "type": "string",
                          "example": "6912543ed3b94d5c0eae6420"
                        },
                        "name": {
                          "type": "string",
                          "example": "Djon Pui"
                        },
                        "avatarUrl": {
                          "type": "string",
                          "format": "uri",
                          "example": "https://res.cloudinary.com/demo/image/upload/v1699999999/samples/landscapes/nature-mountains.jpg"
                        },
                        "articlesAmount": {
                          "type": "integer",
                          "minimum": 0,
                          "example": 8
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-11-10T21:08:14.553Z"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-11-10T23:49:42.964Z"
                        },
                        "articles": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/articleCard"
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "ok": {
                    "value": {
                      "status": 200,
                      "message": "Successfully found the user with id: 6912543ed3b94d5c0eae6420",
                      "data": {
                        "_id": "6912543ed3b94d5c0eae6420",
                        "name": "Martin Game",
                        "avatarUrl": "https://res.cloudinary.com/demo/image/upload/v1699999999/samples/landscapes/nature-mountains.jpg",
                        "articlesAmount": 8,
                        "createdAt": "2025-11-10T21:08:14.553Z",
                        "updatedAt": "2025-11-10T23:49:42.964Z",
                        "articles": [
                          {
                            "_id": "6912703e9afd9812a62a9d4c",
                            "img": "https://res.cloudinary.com/demo/image/upload/v1699999999/samples/landscapes/nature-mountains.jpg",
                            "title": "Hello World",
                            "date": "2025-11-10T23:07:42.866Z",
                            "favoriteCount": 0,
                            "createdAt": "2025-11-10T23:07:42.867Z"
                          }
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (missing or invalid token)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 401
                    },
                    "message": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message",
                    "data"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 404
                    },
                    "message": {
                      "type": "string",
                      "example": "User not found"
                    },
                    "data": {
                      "oneOf": [
                        {
                          "type": "object"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  }
                },
                "examples": {
                  "not-found": {
                    "value": {
                      "status": 404,
                      "message": "User not found",
                      "data": null
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      }
    },
    "/users/me/saved/{storyId}": {
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Save a story for the current user",
        "operationId": "saveStoryForMe",
        "description": "Add a story to the authenticated user's saved list (idempotent)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/storyId"
          }
        ],
        "responses": {
          "200": {
            "description": "Story already in saved (idempotent POST)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SavedStoriesResponse"
                },
                "examples": {
                  "already": {
                    "value": {
                      "status": 200,
                      "message": "Story already in saved",
                      "data": {
                        "user": {
                          "savedStories": [
                            "68498236a100312bea079008",
                            "68498236a100312bea079011",
                            "6912703e9afd9812a62a9d4c"
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "201": {
            "description": "Story saved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SavedStoriesResponse"
                },
                "examples": {
                  "created": {
                    "value": {
                      "status": 201,
                      "message": "Story saved",
                      "data": {
                        "user": {
                          "savedStories": [
                            "68498236a100312bea079008",
                            "68498236a100312bea079011",
                            "6912703e9afd9812a62a9d4c"
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 400
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid storyId"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "details": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "invalid-storyid": {
                    "value": {
                      "status": 400,
                      "message": "Invalid storyId",
                      "data": {
                        "details": [
                          "\"storyId\" must match /^[a-f0-9]{24}$/"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized. Access token is missing, invalid, or expired",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message",
                    "data"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 401
                    },
                    "message": {
                      "type": "string",
                      "example": "UnauthorizedError"
                    },
                    "data": {
                      "type": "object",
                      "required": [
                        "message"
                      ],
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "No access token provided"
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "missing-token": {
                    "summary": "No token provided",
                    "value": {
                      "status": 401,
                      "message": "UnauthorizedError",
                      "data": {
                        "message": "No access token provided"
                      }
                    }
                  },
                  "invalid-token": {
                    "summary": "Invalid token",
                    "value": {
                      "status": 401,
                      "message": "UnauthorizedError",
                      "data": {
                        "message": "Invalid or expired access token"
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Story not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 404
                    },
                    "message": {
                      "type": "string",
                      "example": "Story not found"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "details": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "not-found": {
                    "value": {
                      "status": 404,
                      "message": "Story not found",
                      "data": {
                        "details": [
                          "Story with given id doesn't exist"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/500"
          }
        }
      },
      "delete": {
        "tags": [
          "Users"
        ],
        "summary": "Remove a story from the current user's saved list",
        "operationId": "removeSavedStoryForMe",
        "description": "Delete a story from the authenticated user's saved list (idempotent)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "storyId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "pattern": "^[a-f0-9]{24}$"
            },
            "description": "Mongo ObjectId of the story to remove"
          }
        ],
        "responses": {
          "200": {
            "description": "Story removed from saved (idempotent)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message",
                    "data"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "Story removed from saved"
                    },
                    "data": {
                      "type": "object",
                      "required": [
                        "user"
                      ],
                      "properties": {
                        "user": {
                          "type": "object",
                          "required": [
                            "savedStories"
                          ],
                          "properties": {
                            "savedStories": {
                              "type": "array",
                              "items": {
                                "type": "string",
                                "pattern": "^[a-f0-9]{24}$"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "removed": {
                    "value": {
                      "status": 200,
                      "message": "Story removed from saved",
                      "data": {
                        "user": {
                          "savedStories": [
                            "68498236a100312bea079008",
                            "68498236a100312bea07902c",
                            "68498236a100312bea079018"
                          ]
                        }
                      }
                    }
                  },
                  "already-removed": {
                    "value": {
                      "status": 200,
                      "message": "Story was not in saved",
                      "data": {
                        "user": {
                          "savedStories": [
                            "68498236a100312bea079008",
                            "68498236a100312bea07902c",
                            "68498236a100312bea079018"
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request (invalid storyId)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 400
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid storyId"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "details": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "invalid-storyid": {
                    "value": {
                      "status": 400,
                      "message": "Invalid storyId",
                      "data": {
                        "details": [
                          "\"storyId\" must match /^[a-f0-9]{24}$/"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (missing/invalid token or session)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 401
                    },
                    "message": {
                      "type": "string",
                      "example": "Session not found or invalid token"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "details": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "no-token": {
                    "value": {
                      "status": 401,
                      "message": "Unauthorized",
                      "data": {
                        "details": [
                          "Missing access token"
                        ]
                      }
                    }
                  },
                  "invalid-token": {
                    "value": {
                      "status": 401,
                      "message": "Session not found or invalid token",
                      "data": {
                        "details": [
                          "Invalid or expired token"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Story not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 404
                    },
                    "message": {
                      "type": "string",
                      "example": "Story not found"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "details": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "not-found": {
                    "value": {
                      "status": 404,
                      "message": "Story not found",
                      "data": {
                        "details": [
                          "Story with given id doesn't exist"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "status",
                    "message",
                    "data"
                  ],
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Something went wrong"
                    },
                    "data": {
                      "type": "object",
                      "example": {
                        "message": "Unexpected error"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "responses": {
      "204": {
        "description": "Successfully deleted contact"
      },
      "401": {
        "description": "Unauthorized Error",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "required": [
                "status",
                "message"
              ],
              "properties": {
                "status": {
                  "type": "integer",
                  "example": 401
                },
                "message": {
                  "type": "string",
                  "example": "Unauthorized Error"
                }
              }
            }
          }
        }
      },
      "404": {
        "$ref": "#/components/responses/404-contact"
      },
      "409": {
        "description": "Conflict - Duplicate resource",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "required": [
                "status",
                "message"
              ],
              "properties": {
                "status": {
                  "type": "integer",
                  "example": 409
                },
                "message": {
                  "type": "string",
                  "example": "Email in use"
                }
              }
            }
          }
        }
      },
      "500": {
        "description": "Internal Server Error",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "required": [
                "status",
                "message",
                "data"
              ],
              "properties": {
                "status": {
                  "type": "integer",
                  "example": 500
                },
                "message": {
                  "type": "string",
                  "example": "Something went wrong"
                },
                "data": {
                  "type": "object",
                  "example": {
                    "message": "Unexpected error"
                  }
                }
              }
            }
          }
        }
      },
      "201-register": {
        "description": "Successfully created a new contact",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "required": [
                "status",
                "message",
                "data"
              ],
              "properties": {
                "status": {
                  "type": "integer",
                  "example": 201
                },
                "message": {
                  "type": "string",
                  "example": "Successfully registered a contact!"
                },
                "data": {
                  "$ref": "#/components/schemas/user"
                }
              }
            }
          }
        }
      },
      "200-login": {
        "description": "User successfully logged in",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "required": [
                "status",
                "message",
                "data"
              ],
              "properties": {
                "status": {
                  "type": "integer",
                  "example": 200
                },
                "message": {
                  "type": "string",
                  "example": "User successfully logged in"
                },
                "data": {
                  "type": "object",
                  "required": [
                    "user",
                    "accessToken",
                    "accessTokenValidUntil",
                    "sessionId"
                  ],
                  "properties": {
                    "user": {
                      "type": "object",
                      "required": [
                        "id",
                        "name",
                        "email"
                      ],
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "User unique identifier (MongoDB ObjectId)",
                          "example": "69134925a9c11877caa26fd9"
                        },
                        "name": {
                          "type": "string",
                          "example": "brad@example.com"
                        },
                        "email": {
                          "type": "string",
                          "format": "email",
                          "example": "secret12345"
                        }
                      }
                    },
                    "accessToken": {
                      "type": "string",
                      "example": "4ckstboS7vKzyuV6I7IwZvBlb5Ix+/2Du5kcnNdn"
                    },
                    "accessTokenValidUntil": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2025-11-11T18:12:16.511Z"
                    },
                    "sessionId": {
                      "type": "string",
                      "description": "ID of the active user session",
                      "example": "691378fc4b198ed004979a7c"
                    }
                  }
                }
              }
            },
            "examples": {
              "success": {
                "summary": "Successful login",
                "value": {
                  "status": 200,
                  "message": "User successfully logged in",
                  "data": {
                    "user": {
                      "id": "69134925a9c11877caa26fd9",
                      "name": "Brad Pitt",
                      "email": "brad@example.com"
                    },
                    "accessToken": "4ckstboS7vKzyuV6I7IwZvBlb5Ix+/2Du5kcnNdn",
                    "accessTokenValidUntil": "2025-11-11T18:12:16.511Z",
                    "sessionId": "691378fc4b198ed004979a7c"
                  }
                }
              }
            }
          }
        }
      },
      "401-userNotFound": {
        "description": "Unauthorized. User not found",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "required": [
                "status",
                "message",
                "data"
              ],
              "properties": {
                "status": {
                  "type": "integer",
                  "example": 401
                },
                "message": {
                  "type": "string",
                  "example": "UnauthorizedError"
                },
                "data": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "User not found"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "200-refresh": {
        "description": "Successfully refreshed a session",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "required": [
                "status",
                "message",
                "data"
              ],
              "properties": {
                "status": {
                  "type": "integer",
                  "example": 200
                },
                "message": {
                  "type": "string",
                  "example": "Successfully refreshed a session!"
                },
                "data": {
                  "type": "object",
                  "required": [
                    "accessToken"
                  ],
                  "properties": {
                    "accessToken": {
                      "type": "string",
                      "example": "fuxTEoxM6DQy2e2wMuCGCSjUqseBa7fGhOONH5sQ"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "200-resetPwd": {
        "description": "Successfully reset user password",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "required": [
                "status",
                "message"
              ],
              "properties": {
                "status": {
                  "type": "integer",
                  "example": 200
                },
                "message": {
                  "type": "string",
                  "example": "Password was successfully reset!"
                }
              }
            }
          }
        }
      },
      "404-user": {
        "description": "Contact not found",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "required": [
                "status",
                "message",
                "data"
              ],
              "properties": {
                "status": {
                  "type": "integer",
                  "example": 404
                },
                "message": {
                  "type": "string",
                  "example": "User not found"
                },
                "data": {
                  "type": "object",
                  "example": {}
                }
              }
            }
          }
        }
      },
      "200-resetEmail": {
        "description": "Successfully sent reset password email",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "required": [
                "status",
                "message"
              ],
              "properties": {
                "status": {
                  "type": "integer",
                  "example": 200
                },
                "message": {
                  "type": "string",
                  "example": "Reset password email was successfully sent!"
                }
              }
            }
          }
        }
      },
      "404-contact": {
        "description": "Contact not found",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "required": [
                "status",
                "message",
                "data"
              ],
              "properties": {
                "status": {
                  "type": "integer",
                  "example": 404
                },
                "message": {
                  "type": "string",
                  "example": "Contact not found"
                },
                "data": {
                  "type": "object",
                  "example": {}
                }
              }
            }
          }
        }
      }
    },
    "schemas": {
      "user": {
        "type": "object",
        "required": [
          "_id",
          "name",
          "avatarUrl",
          "articlesAmount",
          "createdAt"
        ],
        "properties": {
          "_id": {
            "type": "string",
            "description": "User's unique identifier (MongoDB ObjectId)",
            "pattern": "^[a-f0-9]{24}$",
            "example": "65e4decdd286b30065d54af9"
          },
          "name": {
            "type": "string",
            "example": "Brad Pitt"
          },
          "avatarUrl": {
            "type": "string",
            "format": "uri",
            "example": "https://res.cloudinary.com/dcyt4kr5s/image/upload/v1762684805/avatars/ycozq7nun3lbze83tjsk.png"
          },
          "articlesAmount": {
            "type": "integer",
            "minimum": 0,
            "example": 2
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "example": "The best traveler in the World"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "example": "2025-11-06T18:32:41.123Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "example": "2025-11-06T18:45:12.456Z"
          }
        }
      },
      "articleCard": {
        "type": "object",
        "required": [
          "_id",
          "img",
          "title",
          "date",
          "favoriteCount"
        ],
        "properties": {
          "_id": {
            "type": "string",
            "example": "68498236a100312bea078fee"
          },
          "img": {
            "type": "string",
            "format": "uri",
            "example": "https://ftp.goit.study/img/travel-blog/4185d68f321c49b591f7e879ek.webp"
          },
          "title": {
            "type": "string",
            "example": "Грузія на смак: винні підвали та гірські села"
          },
          "date": {
            "type": "string",
            "example": "2025-06-13"
          },
          "favoriteCount": {
            "type": "integer",
            "minimum": 0,
            "example": 22
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "example": "2025-11-11T14:34:40.845Z"
          }
        }
      },
      "registerUser": {
        "type": "object",
        "required": [
          "name",
          "email",
          "password"
        ],
        "properties": {
          "name": {
            "type": "string",
            "example": "Brad Pitt"
          },
          "email": {
            "type": "string",
            "example": "brad@example.com"
          },
          "password": {
            "type": "string",
            "example": "secret12345"
          }
        }
      },
      "loginUser": {
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "properties": {
          "email": {
            "type": "string",
            "example": "brad@example.com"
          },
          "password": {
            "type": "string",
            "example": "secret12345"
          }
        }
      },
      "refreshToken": {
        "type": "object",
        "required": [
          "refreshToken"
        ],
        "properties": {
          "refreshToken": {
            "type": "string",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          }
        }
      },
      "resetPassword": {
        "type": "object",
        "required": [
          "token",
          "newPassword"
        ],
        "properties": {
          "token": {
            "type": "string",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          },
          "newPassword": {
            "type": "string",
            "example": "NewStrongPassword123"
          }
        }
      },
      "requestResetEmail": {
        "type": "object",
        "required": [
          "email"
        ],
        "properties": {
          "email": {
            "type": "string",
            "example": "john@example.com"
          }
        }
      },
      "userPublic": {
        "type": "object",
        "required": [
          "_id",
          "name",
          "avatarUrl",
          "articlesAmount"
        ],
        "properties": {
          "_id": {
            "type": "string",
            "example": "6881563901add19ee16fcff5"
          },
          "name": {
            "type": "string",
            "example": "Дмитро Романенко"
          },
          "avatarUrl": {
            "type": "string",
            "format": "uri",
            "example": "https://ftp.goit.study/img/harmoniq/users/6881563901add19ee16fcff5.webp"
          },
          "articlesAmount": {
            "type": "integer",
            "minimum": 0,
            "example": 13
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "example": "Привіт! Я Дмитро. Люблю знаходити приховані перлини у кожній поїздці та ділитися ними."
          }
        }
      },
      "SavedStoriesResponse": {
        "type": "object",
        "required": [
          "status",
          "message",
          "data"
        ],
        "properties": {
          "status": {
            "type": "integer",
            "example": 201
          },
          "message": {
            "type": "string",
            "example": "Story saved"
          },
          "data": {
            "type": "object",
            "required": [
              "user"
            ],
            "properties": {
              "user": {
                "type": "object",
                "required": [
                  "savedStories"
                ],
                "properties": {
                  "savedStories": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "pattern": "^[a-f0-9]{24}$"
                    },
                    "example": [
                      "68498236a100312bea079008",
                      "68498236a100312bea079011",
                      "6912703e9afd9812a62a9d4c"
                    ]
                  }
                }
              }
            }
          }
        }
      }
    },
    "parameters": {
      "storyId": {
        "name": "storyId",
        "in": "path",
        "required": true,
        "schema": {
          "type": "string",
          "pattern": "^[a-f0-9]{24}$"
        },
        "description": "Mongo ObjectId of the story"
      }
    }
  }
}